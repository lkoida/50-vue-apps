import{_ as e,a as t,c as n,d as r,f as i,g as a,h as o,i as s,l as c,m as l,n as u,o as d,p as f,r as p,s as m,t as h,u as g,v as _}from"./index-Q-Lv51eD.js";var v={class:`section`},y=[`name`],b={class:`nested-summary`},x={class:`nested-summary-content`},S=[`innerHTML`],C={key:0,class:`is-done-mark`},w=[`onUpdate:modelValue`,`onClick`],T={key:1},E=[`innerHTML`],D=[`onSubmit`],O=[`href`],k=`&#x2B50;`,A=`&#x2606;`,j=h(r({__name:`MySection`,props:[`section`,`data`],emits:[`set:checked`,`set:url`],setup(e,{emit:n}){let r=e,i=n;function u(e){i(`set:checked`,{projectId:e})}let h=a(``);function j(e){i(`set:url`,{projectId:e,link:h})}return(n,i)=>(f(),c(`details`,v,[m(`summary`,null,_(r.section),1),(f(!0),c(d,null,l(e.data,e=>(f(),c(`details`,{class:`nested`,key:e.id,name:r.section},[m(`summary`,b,[m(`span`,x,[g(_(e.title)+` `,1),m(`span`,{class:`difficulty`,innerHTML:k.repeat(e.level).padEnd(32,A)},null,8,S),e.isdone?(f(),c(`span`,T,`âœ…`)):(f(),c(`label`,C,[o(m(`input`,{type:`checkbox`,name:`isDone`,"onUpdate:modelValue":t=>e.isdone=t,onClick:t=>u(e.id)},null,8,w),[[p,e.isdone]])]))])]),m(`div`,{innerHTML:e.description},null,8,E),i[1]||=m(`p`,{class:`text strong`},`Testing considerations`,-1),m(`ul`,null,[(f(!0),c(d,null,l(e.testing,e=>(f(),c(`li`,{key:e},_(e),1))),128))]),i[2]||=m(`p`,null,`Result/Progress`,-1),e.projecturl?(f(),c(`a`,{key:1,href:e.projecturl,target:`_blank`,rel:`noopener noreferrer`},_(e.projecturl),9,O)):(f(),c(`form`,{key:0,onSubmit:t(t=>j(e.id),[`prevent`])},[o(m(`input`,{type:`url`,name:`stack-blitz-url`,class:`result-progress`,"onUpdate:modelValue":i[0]||=e=>h.value=e},null,512),[[s,h.value]])],40,D))],8,y))),128))]))}}),[[`__scopeId`,`data-v-6beb561b`]]),M={__name:`ProjectsList`,setup(t){let r=a();i(async()=>{let e=await u.from(`sections`).select(`*, projects(*)`).order(`level`,{referencedTable:`projects`,ascending:!0});!e.error&&e.status===200&&(r.value=e.data)});async function o(e){let{error:t}=await u.from(`projects`).update({isdone:!0}).eq(`id`,e.projectId).select();t&&console.log(t)}async function s(t){console.log(t);let{error:n}=await u.from(`projects`).update({projecturl:e(t.link)}).eq(`id`,t.projectId).select();n&&console.log(n)}return(e,t)=>(f(!0),c(d,null,l(r.value,e=>(f(),n(j,{key:e.name,section:e.title,data:e.projects,name:`outer-startic-name`,"onSet:checked":o,"onSet:url":s},null,8,[`section`,`data`]))),128))}};export{M as default};