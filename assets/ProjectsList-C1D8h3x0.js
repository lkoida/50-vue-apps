import{_ as e,a as t,c as n,d as r,f as i,g as a,h as o,i as s,l as c,m as l,n as u,o as d,p as f,r as p,s as m,t as h,u as g}from"./index-Cjlzwe-w.js";var _={class:`section`},v={class:`nested-summary`},y={class:`nested-summary-content`},b=[`innerHTML`],x={key:0,class:`is-done-mark`},S=[`onUpdate:modelValue`,`onClick`],C={key:1},w=[`onSubmit`],T=[`href`],E=`&#x2B50;`,D=`&#x2606;`,O=u(r({__name:`MySection`,props:[`section`,`data`],emits:[`set:checked`,`set:url`],setup(n,{emit:r}){let i=n,u=r;function h(e){u(`set:checked`,{projectId:e})}let O=a(``);function k(e){u(`set:url`,{projectId:e,link:O})}return(r,a)=>(f(),c(`details`,_,[m(`summary`,null,e(i.section),1),(f(!0),c(d,null,l(n.data,n=>(f(),c(`details`,{class:`nested`,key:n.id},[m(`summary`,v,[m(`span`,y,[g(e(n.title)+` `,1),m(`span`,{class:`difficulty`,innerHTML:E.repeat(n.level).padEnd(32,D)},null,8,b),n.isdone?(f(),c(`span`,C,`âœ…`)):(f(),c(`label`,x,[o(m(`input`,{type:`checkbox`,name:`isDone`,"onUpdate:modelValue":e=>n.isdone=e,onClick:e=>h(n.id)},null,8,S),[[p,n.isdone]])]))])]),m(`p`,null,e(n.description),1),a[1]||=m(`p`,{class:`text strong`},`Testing considerations`,-1),m(`ul`,null,[(f(!0),c(d,null,l(n.testing,t=>(f(),c(`li`,{key:t},e(t),1))),128))]),a[2]||=m(`p`,null,`Result/Progress`,-1),n.projecturl?(f(),c(`a`,{key:1,href:n.projecturl,target:`_blank`,rel:`noopener noreferrer`},e(n.projecturl),9,T)):(f(),c(`form`,{key:0,onSubmit:t(e=>k(n.id),[`prevent`])},[o(m(`input`,{type:`url`,name:`stack-blitz-url`,class:`result-progress`,"onUpdate:modelValue":a[0]||=e=>O.value=e},null,512),[[s,O.value]])],40,w))]))),128))]))}}),[[`__scopeId`,`data-v-f1797373`]]),k={__name:`ProjectsList`,setup(e){let t=a();i(async()=>{let e=await h.from(`sections`).select(`*, projects(*)`).order(`level`,{referencedTable:`projects`,ascending:!0});!e.error&&e.status===200&&(t.value=e.data)});async function r(e){let{error:t}=await h.from(`projects`).update({isdone:!0}).eq(`id`,e.projectId).select();t&&console.log(t)}async function o(e){console.log(e);let{error:t}=await h.from(`projects`).update({projecturl:toValue(e.link)}).eq(`id`,e.projectId).select();t&&console.log(t)}return(e,i)=>(f(!0),c(d,null,l(t.value,e=>(f(),n(O,{key:e.name,section:e.title,data:e.projects,name:`name`,"onSet:checked":r,"onSet:url":o},null,8,[`section`,`data`]))),128))}};export{k as default};